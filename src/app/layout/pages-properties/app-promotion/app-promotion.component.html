<div class="card" [@fadeInOutTranslate]>
  <div class="title-section">Promocje</div>
  
  <!-- Filter Product -->
   <div [@fadeInOutTranslate] class="filter-contain" style="margin-bottom: 50px;">
    <p>Filtruj:</p>
    <div class="container">
      <div class="row">
  
        <!-- Input Title -->
        <div class="col-12 col-md-6" style="margin-bottom: 10px;">
          Tytuł:&nbsp;&nbsp;&nbsp;&nbsp;
          <input placeholder="Tytuł produktu" [(ngModel)]="title" (input)="filterData()"/>
          <span class="logo-form"><i class="fas fa-search"></i></span>
        </div>
  
        <!-- Input Ref Number -->
        <div class="col-12 col-md-6" style="margin-bottom: 10px;">
          Numer:
          <input placeholder="Numer referencyjny" [(ngModel)]="ref" (input)="filterData()"/>
          <span class="logo-form"><i class="fas fa-search"></i></span>
        </div>
      </div>
    </div>
  </div>

  <div class="title-section">Produkty</div>
  <!-- List Products -->
  <div  *ngIf="products && products.length > 0" class="list-messages-section" style="margin-bottom: 0px;">
   
    <!-- Head Products -->
    <div class="thead-description">Produkt nr. ref.</div>
    <div class="thead-description">Tytuł</div>
    <div class="thead-description">Opcje</div>

  </div>
  <div class="settings-card">
    <div [@fadeInOutTranslate] class="list-messages-section">

      <!-- Empty Products -->
      <div class="img-error" *ngIf="products && products.length === 0">
        <img class="img-fluid" height="350" width="262" src="./assets/images/error.svg"/>
        <p style="float: left;width: 100%;font-weight: 500;font-size: 18px;margin-bottom: 20px;">
          Brak produktów do wyświetlenia
        </p>
      </div>

      <!-- Body Products -->
      <div *ngIf="products && products.length > 0">
        <table style="text-align: center;" class="table">
          <thead></thead>
          <tbody>
            <tr *ngFor="let product of cpProducts; let i = index">
              <td>{{ product.ref }}</td>
              <td>{{ product.title }}</td>
              <td>
                <button mat-button style="background-color:#2a8b42;width:80px;color:white;"
                  (click)="addToPromotions(product)">
                  Dodaj
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>

  <div class="title-section">Promocje</div>
  <!-- List Promotions -->
  <div *ngIf="promotions" class="list-messages-section" style="margin-bottom: 0px; margin-top: 20px;">

     <!-- Empty Promotions -->
     <div class="img-error" *ngIf="promotions && promotions.length === 0">
        <img class="img-fluid" height="350" width="262" src="./assets/images/error.svg"/>
        <p style="float: left;width: 100%;font-weight: 500;font-size: 18px;margin-bottom: 20px;">
          Brak produktów promocyjnych do wyświetlenia
        </p>
      </div>

     <!-- Head Promotions -->
    <div *ngIf="promotions && promotions.length > 0" class="thead-description">
      Produkt nr. ref.
    </div>
    <div *ngIf="promotions && promotions.length > 0" class="thead-description">
      Tytuł
    </div>
    <div *ngIf="promotions && promotions.length > 0" class="thead-description">
      Opcje
    </div>

  </div>
  <div class="settings-card">

    <!-- Body Promotions -->
    <div [@fadeInOutTranslate] class="list-messages-section">
      <div>
        <table style="text-align: center;" *ngIf="promotions" class="table">
          <thead></thead>
          <tbody>
            <tr *ngFor="let promotion of promotions; let i = index">
              <td>{{ promotion.ref }}</td>
              <td>{{ promotion.title }}</td>
              <td>
                <button mat-button style="background-color:orange;width:80px;" (click)="deletePromotions(i)">
                  Usuń
                </button>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
